/* ============================================
   게임 화면 레이아웃
   ============================================ */
.gameScreen {
  display: flex;
  flex-direction: column;
  height: 100vh;
  background: #f3f4f6;
}

/* 코인 잔액 스타일 (Phase 2, 3에서 재사용) */
.coinBalance {
  position: absolute;
  top: 1rem;
  left: 1rem;
  background: rgba(37, 99, 235, 0.9);
  backdrop-filter: blur(10px);
  color: white;
  padding: 0.5rem 1rem;
  border-radius: 0.5rem;
  font-weight: 600;
  font-size: 0.875rem;
  z-index: 10;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(255, 255, 255, 0.15);
}

.coinBalanceIcon {
  font-size: 1rem;
}

.coinBalanceAmount {
  font-size: 1rem;
}

.coinChargeButton {
  background: rgba(255, 255, 255, 0.2);
  color: white;
  border: 1px solid rgba(255, 255, 255, 0.3);
  padding: 0.25rem 0.75rem;
  border-radius: 0.375rem;
  font-size: 0.75rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
  margin-left: 0.25rem;
}

.coinChargeButton:hover {
  background: rgba(255, 255, 255, 0.3);
  border-color: rgba(255, 255, 255, 0.4);
}

.coinChargeButton:active {
  transform: scale(0.95);
}

/* 반응형 */
@media (min-width: 768px) {
  .coinBalance {
    top: 1.5rem;
    left: 1.5rem;
    padding: 0.75rem 1.25rem;
    font-size: 1rem;
  }

  .coinBalanceAmount {
    font-size: 1.125rem;
  }

  .coinChargeButton {
    padding: 0.375rem 0.875rem;
    font-size: 0.875rem;
  }
}

.imageContainer {
  flex: 1;
  position: relative;
  overflow: hidden;
}

/* ============================================
   질문 패널
   ============================================ */
.questionPanel {
  background: white;
  padding: 1rem;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid #e5e7eb;
}

.questionNumber {
  font-size: 0.75rem;
  color: #6b7280;
  font-weight: 500;
  margin-bottom: 0.5rem;
}

.questionTitle {
  font-size: 1rem;
  font-weight: bold;
  color: #1f2937;
  line-height: 1.6;
}

.questionHint {
  margin-top: 0.75rem;
  font-size: 0.75rem;
  color: #4b5563;
}

/* 반응형 */
@media (min-width: 768px) {
  .questionPanel {
    padding: 1.5rem;
  }

  .questionNumber {
    font-size: 0.875rem;
  }

  .questionTitle {
    font-size: 1.25rem;
  }

  .questionHint {
    font-size: 0.875rem;
  }
}

/* ============================================
   이미지 뷰어
   ============================================ */
.imageViewerContainer {
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  background: #111827;
  cursor: pointer;
}

/* ============================================
   피드백 모달
   ============================================ */
.modalOverlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 50;
  padding: 1rem;
}

.feedbackModal {
  background: white;
  border-radius: 0.75rem;
  padding: 1.5rem;
  max-width: 28rem;
  width: 100%;
  margin: 0 1rem;
  box-shadow:
    0 20px 25px -5px rgba(0, 0, 0, 0.1),
    0 10px 10px -5px rgba(0, 0, 0, 0.04);
  max-height: 90vh;
  overflow-y: auto;
}

.modalContent {
  text-align: center;
  margin-bottom: 1.5rem;
}

.modalIcon {
  font-size: 3rem;
  margin-bottom: 1rem;
}

.modalTitle {
  font-size: 1.25rem;
  font-weight: bold;
  margin-bottom: 1rem;
}

.modalTitleCorrect {
  color: #16a34a;
}

.modalTitleWrong {
  color: #dc2626;
}

.modalExplanation {
  font-size: 0.875rem;
  color: #374151;
  line-height: 1.6;
}

.modalMessage {
  color: #4b5563;
  font-size: 0.875rem;
}

.modalButtons {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

/* 반응형 */
@media (min-width: 768px) {
  .feedbackModal {
    padding: 2rem;
  }

  .modalIcon {
    font-size: 3.75rem;
  }

  .modalTitle {
    font-size: 1.5rem;
  }

  .modalExplanation {
    font-size: 1rem;
  }

  .modalMessage {
    font-size: 1rem;
  }
}

/* ============================================
   버튼 스타일
   ============================================ */
.primaryButton {
  width: 100%;
  background: #2563eb;
  color: white;
  padding: 0.75rem 1rem;
  border-radius: 0.5rem;
  font-weight: 600;
  font-size: 1rem;
  transition: background-color 0.2s;
  border: none;
  cursor: pointer;
}

.primaryButton:hover {
  background: #1d4ed8;
}

.primaryButton:active {
  transform: scale(0.98);
}

.secondaryButton {
  width: 100%;
  background: #f3f4f6;
  color: #1f2937;
  padding: 0.75rem;
  border-radius: 0.5rem;
  font-weight: 600;
  transition: background-color 0.2s;
  border: none;
  cursor: pointer;
}

.secondaryButton:hover {
  background: #e5e7eb;
}

.secondaryButton:active {
  transform: scale(0.98);
}

.tertiaryButton {
  width: 100%;
  background: #f9fafb;
  color: #4b5563;
  padding: 0.5rem;
  border-radius: 0.5rem;
  font-weight: 500;
  font-size: 0.875rem;
  transition: background-color 0.2s;
  border: none;
  cursor: pointer;
}

.tertiaryButton:hover {
  background: #f3f4f6;
}

/* 반응형 */
@media (min-width: 768px) {
  .primaryButton {
    padding: 1rem;
    font-size: 1.125rem;
  }
}

/* ============================================
   시작 화면
   ============================================ */
.startScreen {
  display: flex;
  flex-direction: column;
  height: 100vh;
  background: #000000; /* 검은색으로 통일 */
  position: relative;
  max-width: 664px; /* 모든 화면에서 최대 너비 고정 */
  margin: 0 auto; /* 중앙 정렬 */
  width: 100%; /* 작은 화면에서는 전체 너비 사용 */
}

.startImageSection {
  position: relative;
  overflow: hidden;
  width: 100%;
  height: 100vh;
  background: #000000; /* 이미지 뒤 배경을 검은색으로 명시 */
  /* 작은 화면에서는 전체 너비 사용 */
}

.startImageOverlay {
  position: absolute;
  inset: 0;
}

.startImage {
  object-fit: contain;
  object-position: center;
  opacity: 0.9;
}

.startGradientOverlay {
  position: absolute;
  inset: 0;
}

.startButtonSection {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  padding: 0.75rem 1.5rem;
  width: 100%;
  z-index: 10;
  /* 작은 화면에서는 전체 너비 사용 */
}

.startButton {
  width: 100%;
  background: linear-gradient(to right, #2563eb, #9333ea);
  color: white;
  padding: 1rem;
  border-radius: 0.75rem;
  font-weight: bold;
  font-size: 1.125rem;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3);
  transition: all 0.2s;
  border: none;
  cursor: pointer;
}

.startButton:hover {
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.4);
  transform: scale(1.02);
}

.startButton:active {
  transform: scale(0.98);
}

.startScreenTopButtons {
  position: absolute;
  top: 1rem;
  right: 1rem;
  z-index: 10;
  display: flex;
  gap: 0.75rem;
  flex-wrap: wrap;
}

/* 코인 잔액 스타일 (Phase 2, 3에서 재사용) */
.startScreenCoinBalance {
  position: absolute;
  top: 1rem;
  left: 1rem;
  background: rgba(37, 99, 235, 0.2);
  backdrop-filter: blur(10px);
  color: white;
  padding: 0.75rem 1.25rem;
  border-radius: 0.75rem;
  font-weight: 600;
  font-size: 0.875rem;
  z-index: 10;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(255, 255, 255, 0.15);
}

.startScreenCoinBalanceIcon {
  font-size: 1rem;
}

.startScreenCoinBalanceAmount {
  font-size: 1rem;
}

.caseListButton {
  background: rgba(37, 99, 235, 0.2);
  backdrop-filter: blur(10px);
  color: white;
  padding: 0.75rem 1.25rem;
  border-radius: 0.75rem;
  font-weight: 600;
  font-size: 0.875rem;
  border: 1px solid rgba(255, 255, 255, 0.15);
  cursor: pointer;
  transition: all 0.2s;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
}

.caseListButton:hover {
  background: rgba(37, 99, 235, 0.3);
  border-color: rgba(255, 255, 255, 0.25);
  transform: translateY(-1px);
  box-shadow: 0 6px 8px -1px rgba(0, 0, 0, 0.4);
}

.caseListButton:active {
  transform: translateY(0);
  box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.3);
}

.authButton {
  background: rgba(147, 51, 234, 0.2);
  backdrop-filter: blur(10px);
  color: white;
  padding: 0.75rem 1.25rem;
  border-radius: 0.75rem;
  font-weight: 600;
  font-size: 0.875rem;
  border: 1px solid rgba(255, 255, 255, 0.15);
  cursor: pointer;
  transition: all 0.2s;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 200px;
}

.authButton:hover {
  background: rgba(147, 51, 234, 0.3);
  border-color: rgba(255, 255, 255, 0.25);
  transform: translateY(-1px);
  box-shadow: 0 6px 8px -1px rgba(0, 0, 0, 0.4);
}

.authButton:active {
  transform: translateY(0);
  box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.3);
}

/* 반응형 */
@media (min-width: 768px) {
  /* 큰 화면에서도 동일한 최대 너비 유지 (이미 .startScreen에 설정됨) */
  .startTitle {
    font-size: 2.25rem;
  }

  .startScreenTopButtons {
    top: 1.5rem;
    right: 1.5rem;
  }

  /* 코인 잔액 반응형 스타일 (Phase 2, 3에서 재사용) */
  .startScreenCoinBalance {
    top: 1.5rem;
    left: 1.5rem;
    padding: 0.875rem 1.5rem;
    font-size: 1rem;
  }

  .startScreenCoinBalanceAmount {
    font-size: 1.125rem;
  }

  .caseListButton {
    padding: 0.875rem 1.5rem;
    font-size: 1rem;
  }

  .authButton {
    padding: 0.875rem 1.5rem;
    font-size: 1rem;
  }
}

/* ============================================
   케이스 목록 모달
   ============================================ */
.caseListModal {
  background: white;
  border-radius: 0.75rem;
  padding: 1.5rem;
  max-width: 28rem;
  width: 100%;
  margin: 0 1rem;
  box-shadow:
    0 20px 25px -5px rgba(0, 0, 0, 0.1),
    0 10px 10px -5px rgba(0, 0, 0, 0.04);
  max-height: 90vh;
  display: flex;
  flex-direction: column;
}

.caseListTitle {
  font-size: 1.25rem;
  font-weight: bold;
  margin-bottom: 1rem;
  text-align: center;
  color: #1f2937;
}

.caseListScrollContainer {
  max-height: 400px; /* 약 5개 항목이 보이도록 고정 높이 설정 */
  overflow-y: auto;
  overflow-x: hidden;
  margin-bottom: 1rem;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  /* 스크롤바 스타일링 */
  scrollbar-width: thin;
  scrollbar-color: #cbd5e1 #f1f5f9;
}

/* 웹킷 브라우저용 스크롤바 스타일 */
.caseListScrollContainer::-webkit-scrollbar {
  width: 8px;
}

.caseListScrollContainer::-webkit-scrollbar-track {
  background: #f1f5f9;
  border-radius: 4px;
}

.caseListScrollContainer::-webkit-scrollbar-thumb {
  background: #cbd5e1;
  border-radius: 4px;
}

.caseListScrollContainer::-webkit-scrollbar-thumb:hover {
  background: #94a3b8;
}

.caseListItem {
  width: 100%;
  padding: 1rem;
  background: #f9fafb;
  border: 1px solid #e5e7eb;
  border-radius: 0.5rem;
  font-size: 1rem;
  font-weight: 600;
  color: #1f2937;
  text-align: left;
  cursor: pointer;
  transition: all 0.2s;
}

.caseListItem:hover {
  background: #f3f4f6;
  border-color: #2563eb;
  border: 1px solid #2563eb;
}

.caseListItem:active {
  transform: scale(0.98);
}

/* 잠긴 케이스 스타일 */
.caseListItemLocked {
  background: #f3f4f6 !important;
  color: #9ca3af !important;
  cursor: not-allowed !important;
  opacity: 0.6;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.caseListItemLocked:hover {
  background: #f3f4f6 !important;
  border-color: #e5e7eb !important;
  transform: none !important;
}

.caseListItemLocked:active {
  transform: none !important;
}

/* 현재 진행 중인 케이스 강조 스타일 */
.caseListItemCurrent {
  background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%) !important;
  border: 2px solid #2563eb !important;
  box-shadow: 0 4px 6px -1px rgba(37, 99, 235, 0.1), 0 2px 4px -1px rgba(37, 99, 235, 0.06);
  position: relative;
}

.caseListItemCurrent:hover {
  background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%) !important;
  border-color: #1d4ed8 !important;
  box-shadow: 0 6px 8px -1px rgba(37, 99, 235, 0.15), 0 4px 6px -1px rgba(37, 99, 235, 0.1);
}

/* 자물쇠 아이콘 스타일 */
.lockIcon {
  flex-shrink: 0;
  color: #9ca3af;
  margin-left: 0.5rem;
}

.caseListItemLocked .lockIcon {
  color: #6b7280;
}

/* 반응형 */
@media (min-width: 768px) {
  .caseListModal {
    padding: 2rem;
  }

  .caseListTitle {
    font-size: 1.5rem;
  }

  .caseListItem {
    font-size: 1.125rem;
    padding: 1.25rem;
  }
}

/* ============================================
   인증 모달
   ============================================ */
.authModal {
  background: white;
  border-radius: 0.75rem;
  padding: 1.5rem;
  max-width: 28rem;
  width: 100%;
  margin: 0 1rem;
  box-shadow:
    0 20px 25px -5px rgba(0, 0, 0, 0.1),
    0 10px 10px -5px rgba(0, 0, 0, 0.04);
  max-height: 90vh;
  overflow-y: auto;
  position: relative;
}

.authModalHeader {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1.5rem;
}

.authModalTitle {
  font-size: 1.25rem;
  font-weight: bold;
  color: #1f2937;
  margin: 0;
}

.authModalClose {
  background: none;
  border: none;
  font-size: 2rem;
  color: #6b7280;
  cursor: pointer;
  padding: 0;
  width: 2rem;
  height: 2rem;
  display: flex;
  align-items: center;
  justify-content: center;
  line-height: 1;
  transition: color 0.2s;
}

.authModalClose:hover {
  color: #1f2937;
}

.authModalClose:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.authModalForm {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.authModalError {
  background: #fee2e2;
  color: #dc2626;
  padding: 0.75rem;
  border-radius: 0.5rem;
  font-size: 0.875rem;
  border: 1px solid #fecaca;
}

.authModalField {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.authModalLabel {
  font-size: 0.875rem;
  font-weight: 600;
  color: #374151;
}

.authModalInput {
  width: 100%;
  padding: 0.75rem;
  border: 1px solid #d1d5db;
  border-radius: 0.5rem;
  font-size: 1rem;
  transition: border-color 0.2s;
  color: #1f2937; /* 명시적 텍스트 색상 (다크모드에서도 검은색 유지) */
  background: white; /* 명시적 배경색 (다크모드에서도 흰색 유지) */
}

.authModalInput::placeholder {
  color: #9ca3af; /* placeholder 색상 */
}

.authModalInput:focus {
  outline: none;
  border-color: #2563eb;
  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
}

.authModalInput:disabled {
  background: #f3f4f6;
  cursor: not-allowed;
  color: #6b7280; /* disabled 상태 텍스트 색상 */
}

.authModalFooter {
  margin-top: 1rem;
  text-align: center;
}

.authModalSwitch {
  background: none;
  border: none;
  color: #2563eb;
  font-size: 0.875rem;
  cursor: pointer;
  padding: 0.5rem;
  text-decoration: underline;
  transition: color 0.2s;
}

.authModalSwitch:hover {
  color: #1d4ed8;
}

.authModalSwitch:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.authModalDivider {
  display: flex;
  align-items: center;
  margin: 1.5rem 0;
  position: relative;
}

.authModalDivider::before,
.authModalDivider::after {
  content: "";
  flex: 1;
  height: 1px;
  background: #e5e7eb;
}

.authModalDividerText {
  padding: 0 1rem;
  font-size: 0.875rem;
  color: #6b7280;
  background: white;
}

.authModalSocial {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  margin-bottom: 1rem;
}

.socialButton {
  width: 100%;
  background: white;
  color: #1f2937;
  padding: 0.75rem 1rem;
  border-radius: 0.5rem;
  font-weight: 600;
  font-size: 1rem;
  transition: all 0.2s;
  border: 1px solid #d1d5db;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
}

.socialButton:hover {
  background: #f9fafb;
  border-color: #9ca3af;
}

.socialButton:active {
  transform: scale(0.98);
}

.socialButton:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  background: #f3f4f6;
}

.socialButtonText {
  color: #1f2937;
}

/* 반응형 */
@media (min-width: 768px) {
  .authModal {
    padding: 2rem;
  }

  .authModalTitle {
    font-size: 1.5rem;
  }

  .socialButton {
    padding: 1rem;
    font-size: 1.125rem;
  }
}

/* ============================================
   프로필 아이콘 버튼
   ============================================ */
.profileIconButton {
  background: rgba(37, 99, 235, 0.2);
  backdrop-filter: blur(10px);
  color: white;
  padding: 0.75rem;
  border-radius: 50%;
  width: 2.5rem;
  height: 2.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.25rem;
  border: 1px solid rgba(255, 255, 255, 0.15);
  cursor: pointer;
  transition: all 0.2s;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
}

.profileIconButton:hover {
  background: rgba(37, 99, 235, 0.3);
  border-color: rgba(255, 255, 255, 0.25);
  transform: translateY(-1px);
  box-shadow: 0 6px 8px -1px rgba(0, 0, 0, 0.4);
}

.profileIconButton:active {
  transform: translateY(0);
  box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.3);
}

/* 반응형 */
@media (min-width: 768px) {
  .profileIconButton {
    width: 3rem;
    height: 3rem;
    font-size: 1.5rem;
    padding: 0.875rem;
  }
}

/* ============================================
   마이페이지 모달
   ============================================ */
.myPageModal {
  background: white;
  border-radius: 0.75rem;
  padding: 1.5rem;
  max-width: 32rem;
  width: 100%;
  margin: 0 1rem;
  box-shadow:
    0 20px 25px -5px rgba(0, 0, 0, 0.1),
    0 10px 10px -5px rgba(0, 0, 0, 0.04);
  max-height: 90vh;
  overflow-y: auto;
  position: relative;
}

.myPageContent {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.myPageBalance {
  background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
  border: 2px solid #2563eb;
  border-radius: 0.75rem;
  padding: 1.5rem;
  text-align: center;
}

.myPageBalanceLabel {
  font-size: 0.875rem;
  color: #6b7280;
  font-weight: 500;
  margin-bottom: 0.5rem;
}

.myPageBalanceAmount {
  font-size: 2rem;
  font-weight: bold;
  color: #1f2937;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
}

.myPageBalanceAmount .coinBalanceIcon {
  font-size: 1.75rem;
}

.transactionSection {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.transactionSectionTitle {
  font-size: 1rem;
  font-weight: 600;
  color: #1f2937;
  margin: 0;
}

.transactionList {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  max-height: 300px;
  overflow-y: auto;
  scrollbar-width: thin;
  scrollbar-color: #cbd5e1 #f1f5f9;
}

.transactionList::-webkit-scrollbar {
  width: 8px;
}

.transactionList::-webkit-scrollbar-track {
  background: #f1f5f9;
  border-radius: 4px;
}

.transactionList::-webkit-scrollbar-thumb {
  background: #cbd5e1;
  border-radius: 4px;
}

.transactionList::-webkit-scrollbar-thumb:hover {
  background: #94a3b8;
}

.transactionItem {
  background: #f9fafb;
  border: 1px solid #e5e7eb;
  border-radius: 0.5rem;
  padding: 0.75rem 1rem;
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.transactionTypeCharge {
  border-left: 3px solid #16a34a;
}

.transactionTypeSpend {
  border-left: 3px solid #dc2626;
}

.transactionItemMain {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.transactionItemType {
  font-size: 0.875rem;
  font-weight: 500;
  color: #374151;
}

.transactionItemAmount {
  font-size: 1rem;
  font-weight: 600;
}

.transactionTypeCharge .transactionItemAmount {
  color: #16a34a;
}

.transactionTypeSpend .transactionItemAmount {
  color: #dc2626;
}

.transactionItemDate {
  font-size: 0.75rem;
  color: #6b7280;
}

.transactionLoading {
  text-align: center;
  padding: 2rem;
  color: #6b7280;
  font-size: 0.875rem;
}

.transactionEmpty {
  text-align: center;
  padding: 2rem;
  color: #9ca3af;
  font-size: 0.875rem;
  background: #f9fafb;
  border-radius: 0.5rem;
  border: 1px dashed #e5e7eb;
}

/* 반응형 */
@media (min-width: 768px) {
  .myPageModal {
    padding: 2rem;
  }

  .myPageBalance {
    padding: 2rem;
  }

  .myPageBalanceAmount {
    font-size: 2.5rem;
  }

  .myPageBalanceAmount .coinBalanceIcon {
    font-size: 2rem;
  }

  .transactionSectionTitle {
    font-size: 1.125rem;
  }

  .transactionItem {
    padding: 1rem 1.25rem;
  }

  .transactionItemType {
    font-size: 1rem;
  }

  .transactionItemAmount {
    font-size: 1.125rem;
  }
}
