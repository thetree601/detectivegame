# 그녀의 명탐정 노트 (Detective's Journal)

그녀의 명탐정 노트는 이미지를 자세히 관찰하고 정답 영역을 찾아내는
**인터랙티브 시각 추리 게임**입니다.

기존 텍스트 기반 추리 방식에서 벗어나, 고화질 이미지 속 핵심 단서를 직접 찾아 클릭하여 논리적 추리를 진행하고 정답을 도출하는 몰입형 시각 추리 게임 애플리케이션입니다.

## 기대 효과

- **관찰력 및 논리력 향상** - 시각적 단서를 통한 문제 해결 능력 강화
- **직관적인 몰입** - 이미지 클릭 기반 인터랙션으로 높은 게임 참여도 유도
- **명확한 학습 경로** - 단계별 질문과 정답 해설을 통한 논리적 사고 과정 지원

## 게임 플레이 흐름

게임은 다음과 같은 단계로 진행됩니다:

| 단계 | 설명 | 주요 액션 |
|------|------|----------|
| **케이스 로딩** | JSON 데이터 기반으로 특정 사건의 이미지와 질문 세트 로드 | `caseLoader.ts` |
| **단서 탐색** | 플레이어가 이미지 뷰어에서 확대/축소하며 단서를 찾음 | `ImageViewer` |
| **정답 지목** | 이미지 내 특정 영역을 클릭하여 정답을 지목 | 클릭 좌표 획득, `hitDetection.ts` |
| **추론 결과 피드백** | 클릭 영역 일치 여부 판별 후, 정답/오답에 따른 설명 제공 | `FeedbackModal` |
| **질문 완료** | 해당 질문을 해결하면 다음 질문으로 자동 전환 (총 3개 질문) | `GameScreen` 상태 관리 |
| **사건 종결** | 모든 질문 완료 시 케이스 종료 및 결과 요약 표시 | `FeedbackModal` 및 최종 요약 |

## 핵심 구현 요소

- **Hotspot 감지** - 브라우저 좌표를 이미지 원본 비율 좌표로 변환하여 **정답 영역(Hotspot)**과 클릭 좌표의 일치 여부를 정밀하게 판단하는 알고리즘
- **멀티-스케일 이미지 처리** - 고해상도 이미지를 로드하고, 화면 크기 변화(반응형) 및 사용자 확대/축소 시에도 정확한 좌표 변환을 유지하는 기술
- **비동기 데이터 관리** - 외부 JSON 파일 기반으로 케이스 데이터(이미지 URL, 질문, 정답 좌표, 해설)를 관리하여 콘텐츠 업데이트 용이성 확보

## 사용 기술

### 프론트엔드
- **Next.js 14** (App Router 패턴 활용)
- **TypeScript** (강력한 타입 안전성 확보)
- **React** (Client Components)
- **Tailwind CSS** (신속한 UI 개발 및 디자인 유연성)

### 런타임 환경
- **Capacitor** (하이브리드 모바일 앱 빌드 예정)

## 코드 구조

```
src
├── app
│   ├── layout.tsx          # Root layout
│   └── page.tsx            # 메인 페이지 (GameScreen 렌더링)
│
├── components
│   ├── GameScreen.tsx      # 게임 메인 화면 (상태 관리)
│   ├── ImageViewer.tsx     # 이미지 뷰어 및 클릭 감지
│   ├── QuestionPanel.tsx   # 질문 표시 패널
│   └── FeedbackModal.tsx   # 피드백 모달 (정답/오답)
│
├── data
│   └── cases.json          # 케이스 데이터 (이미지, 질문, 정답 영역)
│
└── utils
    ├── caseLoader.ts       # 케이스 데이터 로더
    ├── hitDetection.ts     # 클릭 영역 감지 알고리즘
    └── types.ts            # TypeScript 타입 정의
```

## 디자인 철학

그녀의 명탐정 노트는 **몰입감 극대화와 직관적인 인터페이스**를 중심으로 설계되었습니다.

- **시각적 집중** - 이미지 뷰어를 중심으로 배치하고, 질문 및 상태 패널은 방해되지 않는 최소한의 영역에 배치
- **즉각 반응성** - 클릭 감지 및 피드백 모달은 지연 없이 즉각적으로 사용자에게 반응하여 몰입감을 유지
- **크로스 플랫폼 최적화** - Capacitor 환경을 고려하여 터치 기반 인터랙션과 반응형 레이아웃에 중점

사용자가

- 이미지 관찰에 집중할 수 있고
- 단서를 찾는 재미를 느낄 수 있으며
- 논리적 추리 과정을 즐길 수 있도록 설계했습니다.

## 개발 로드맵

현재는 다음에 집중하여 개발했습니다. 

- 기본 이미지 클릭 기반 정답 감지
- JSON 파일 기반 케이스 관리
- 단계별 질문 진행 시스템

### 향후 개선 계획

- **점수 및 기록 시스템** - 정답 시간, 오답 횟수 등을 기반으로 점수를 산정하고 사용자 기록을 저장 (로컬 저장소 우선)
- **콘텐츠 관리 도구** - JSON 파일을 쉽게 생성/수정할 수 있는 웹 기반 '케이스 스크립터(Case Scripter)' UI 개발
- **힌트 및 단서 잠금 해제 시스템** - 플레이어가 막혔을 때 단계별로 힌트를 제공하거나, 특정 조건을 만족해야 단서 영역이 활성화되는 기능 추가


